// parser and compiler test for the
// `for loop` statement semantics and
// implementation

io mod = use "std/io.lim";

pub fn main() void = io {
    let mut names = ["mia", "leo", "lue"];
    for mut name .. names {
        io::println(name)!;
    };

    let mut arr = [1, 2, 3, 4] u32;
    for mut itm .. arr {
        itm = itm * 2;
    };

    let mut arr' = arr;
    for mut itm, idx .. arr' {
        let lst = arr'[idx - 1]? or 0;
        let nxt = arr'[idx + 1]? or 0;
        itm = (lst + nxt);
    };

    for itm, idx .. arr' {
        test itm != arr[idx]!;
    };
};
