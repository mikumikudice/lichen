io mod = use "std/io.lim";

fn map(eff efx; data [8]str, predicate fn(str) str eff) [8]str = eff {
    let mut data' = data;
    for mut itm, idx .. data' {
        itm = predicate(itm);
    };
    return data';
};

fn pre(src str) str = io {
    io::println(src)!;
    return src;
};

pub fn main() void = io {
    map(["mia", "leo", "lue"], pre);
};
