// parser and compiler test for the
// `defer` statement semantics and
// implementation

io mod = use "std/io.lim";

pub fn main() void = io {
    fun();
};

fn fun() unit = io {
    defer io::println("at exit")!;
    io::println("on call")!;
    if true {
        defer io::println("at scope exit")!;
        io::println("on scope")!;
    };
};
