// parser test for asserting for
// dynamically allocated data nested
// within aggregated types

type foo = record {
    bar []u32;
};

allocs efx = mut mem;

fn new_foo(mut a mem) foo = allocs {
    return foo {
        bar = new ! [4; 0...] @ a,
    };
};

pub fn main() void = allocs {
    new a | 128 {
        let f = new_foo(a);
    }!;
};
