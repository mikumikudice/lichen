// parser test for asserting against
// records outliving its fields

type foo = record {
    bar []u32;
};

pub fn main() void = {
    new outer | 512 {
        let mut f = new ! foo { bar = [] } @ outer;
        new inner | 128 {
            let a = new ! [8; 0...] u32 @ inner;
            f.bar = a;
        }!;
    }!;
};
