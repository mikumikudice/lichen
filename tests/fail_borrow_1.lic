// parser test for asserting for
// correct behavior of borrowing

io mod = use "std/io.lim";

fn borrow(obj str) str @ obj = {
    return obj;
};

pub fn main() void = io {
    new outer | 128 {
        let mut obj = new ! "test ok" @ outer;
        new inner | 128 {
            let bar = new ! obj @ inner;
            obj = borrow(bar);
        }!;
    }!;
};
